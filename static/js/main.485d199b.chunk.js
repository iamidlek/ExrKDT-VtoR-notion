(this["webpackJsonpmy-notion"]=this["webpackJsonpmy-notion"]||[]).push([[0],{13:function(e,t,n){e.exports={title:"WorkspaceListItem_title__3RwjG",actions:"WorkspaceListItem_actions__fNzZ1",active:"WorkspaceListItem_active__7H0DN",text:"WorkspaceListItem_text__1BVIb","material-icons":"WorkspaceListItem_material-icons__oubTi","no-children":"WorkspaceListItem_no-children__2v5De"}},15:function(e,t,n){e.exports={header:"LeftNavBar_header__2ofS-","user-profile":"LeftNavBar_user-profile__yhvrI",actions:"LeftNavBar_actions__EEoFP",action:"LeftNavBar_action__2TW3k","material-icons":"LeftNavBar_material-icons__2cue4","resize-handle":"LeftNavBar_resize-handle__5THgj"}},17:function(e,t,n){e.exports={inner:"Workspace_inner__BkEs2",poster:"Workspace_poster__2SnRH","delete-poster":"Workspace_delete-poster__2YMi4",title:"Workspace_title__2l-lH",content:"Workspace_content__Q9HmK"}},22:function(e,t,n){e.exports={titles:"PathHeader_titles__4jvmJ",division:"PathHeader_division__1FjsT",title:"PathHeader_title__2wdXY",actions:"PathHeader_actions__NZQPK"}},30:function(e,t,n){e.exports={app__inner:"App_app__inner__9B2UE",app__page:"App_app__page__2wvuv",page__container:"App_page__container__2Ie6S"}},88:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(25),o=n.n(r),i=n(30),s=n.n(i),l=n(10),p=n(1);function d(){return Object(p.jsx)("section",{style:{textAlign:"center",padding:"100px 0 200px"},children:Object(p.jsx)("h1",{style:{fontSize:"60px",fontWeight:"700"},children:"404 Page Not Found!"})})}var u=n(29),j=n(15),b=n.n(j),h=n(4),f=n(13),O=n.n(f),_=n(19),v=n(9),x=n.n(v),m=n(16),k=n(45),w=n.n(k),y="REQ_START",g="REQ_START_WS",E="REQ_FAIL",N="REQ_FAIL_WS",T="READ_WS_LIST",L="READ_WS",R="UPDATE_WS",I="MAKE_PATH",W=n(14),D=(n(46),n(49)),S=(n(47),n(48)),H=n(5),P={loading:!1,error:null,workspace:{id:"",poster:"",title:"",content:""}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(H.a)(Object(H.a)({},e),{},{loading:!0});case L:var n=t.payload,a=n.id,c=n.poster,r=n.title,o=n.content;return Object(H.a)(Object(H.a)({},e),{},{loading:!1,workspace:{id:a,poster:c,title:r,content:o}});case R:return Object(H.a)(Object(H.a)({},e),{},{loading:!1,workspace:t.payload});case N:return Object(H.a)(Object(H.a)({},e),{},{loading:!1,error:t.payload});default:return e}},K={loading:!1,error:null,workspaceList:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(H.a)(Object(H.a)({},e),{},{loading:!1,workspaceList:t.payload});case"HARD_PUSH":return Object(H.a)(Object(H.a)({},e),{},{loading:!1,workspaceList:[].concat(Object(_.a)(e.workspaceList),[t.newWorkspace])});case y:return Object(H.a)(Object(H.a)({},e),{},{loading:!0});case E:return Object(H.a)(Object(H.a)({},e),{},{loading:!1,error:t.payload});default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===I?Object(_.a)(t.payload):e},V=n(43),z=n(28),F=Object(S.a)(),M=[D.a,Object(V.a)(F)];var Q=function(e){return Object(W.combineReducers)({workspace:A,workspaceTree:C,path:B,router:Object(z.b)(e)})},J=Object(W.createStore)(Q(F),W.applyMiddleware.apply(void 0,M)),U=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.prev=1,e.next=4,q({method:"GET"});case 4:n=e.sent,t({type:T,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:E,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:g}),t.prev=1,t.next=4,q({method:"GET",workspaceId:e});case 4:a=t.sent,n({type:L,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:N,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q({method:"POST",data:{title:"",parentId:e}});case 3:a=t.sent,n(e?U():{type:"HARD_PUSH",newWorkspace:a}),n(Y(a.id)),F.push("/ExrKDT-VtoR-notion/workspace/".concat(a.id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:E,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(n){var a,c,r,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.id,c=e.title,r=e.content,o=e.poster,t.next=4,q({method:"PUT",workspaceId:a,data:{title:c,content:r,poster:o}});case 4:i=t.sent,n({type:R,payload:i}),n(U()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:N,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},X=function(e){return function(t,n){function a(n,c){n.id!==e?n.children&&n.children.forEach((function(e){return a(e,[].concat(Object(_.a)(c),[n]))})):t({type:I,payload:[].concat(Object(_.a)(c),[n])})}n().workspaceTree.workspaceList.forEach((function(e){return a(e,[])}))}};function q(e){return $.apply(this,arguments)}function $(){return($=Object(m.a)(x.a.mark((function e(t){var n,a,c,r,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceId,a=void 0===n?"":n,c=t.method,r=t.data,e.next=3,w()({url:"https://asia-northeast3-heropy-api.cloudfunctions.net/api/notion/workspaces/".concat(a),method:c,headers:{"content-type":"application/json",apikey:"FcKdtJs202110",username:"YooHyungChul"},data:r});case 3:return o=e.sent,i=o.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function e(t){var n=t.item,c=t.depth,r=void 0===c?1:c,o=Object(h.d)(),i=Object(a.useState)(!1),s=Object(u.a)(i,2),d=s[0],j=s[1],b=n.children&&n.children.length,f=Object(h.e)((function(e){return e.router.location.pathname})).replace("/ExrKDT-VtoR-notion/workspace/",""),_=Object(l.e)();return Object(p.jsx)("div",{children:Object(p.jsxs)("li",{children:[Object(p.jsxs)("div",{style:{paddingLeft:"".concat(14*r,"px")},className:"".concat(O.a.title," ").concat(f===n.id&&O.a.active),onClick:function(){o(Y(n.id)),_.push("/ExrKDT-VtoR-notion/workspace/".concat(n.id))},children:[Object(p.jsx)("span",{className:"material-icons ".concat(d&&O.a.active," ").concat(O.a["material-icons"]),onClick:function(e){e.stopPropagation(),j((function(e){return!e}))},children:"play_arrow"}),Object(p.jsx)("span",{className:O.a.text,children:n.title||"\uc81c\ubaa9 \uc5c6\uc74c"}),Object(p.jsxs)("div",{className:O.a.actions,children:[r<=4&&Object(p.jsx)("span",{className:"material-icons ".concat(O.a["material-icons"]),onClick:function(e){e.stopPropagation(),o(G(n.id)),j(!0)},children:"add"}),"wikkdNRxyeD0YJpxQzJ7"!==n.id&&Object(p.jsx)("span",{className:"material-icons ".concat(O.a["material-icons"]),onClick:function(e){var t;e.stopPropagation(),o((t={id:n.id,currId:f},function(){var e=Object(m.a)(x.a.mark((function e(n,a){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q({method:"DELETE",workspaceId:t.id});case 2:n(U()),t.id===t.currId&&(c=a().workspaceTree.workspaceList[0].id,F.push("/ExrKDT-VtoR-notion/workspace/".concat(c)),n(Y(c)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},children:"delete"})]})]}),!b&&d&&Object(p.jsx)("div",{style:{paddingLeft:"".concat(14*r+22,"px")},className:O.a["no-children"],children:"\ud558\uc704 \ud398\uc774\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),Object(p.jsx)("ul",{children:b&&d&&n.children.map((function(t){return Object(p.jsx)(e,{item:t,depth:r+1},t.id)}))})]})})},te=n(52),ne=n.n(te);function ae(){var e=Object(h.e)((function(e){return e.workspaceTree.workspaceList})),t=Object(a.useState)(240),n=Object(u.a)(t,2),c=n[0],r=n[1],o=Object(a.useRef)(null),i=Object(a.useRef)(null),s=Object(h.d)();return Object(a.useEffect)((function(){!function(e,t){ne()(e).resizable({edges:{right:t}}).on("resizemove",(function(e){r(e.rect.width)}))}(o.current,i.current)})),Object(p.jsxs)("nav",{style:{width:"".concat(c,"px")},ref:o,children:[Object(p.jsxs)("div",{className:b.a.header,children:[Object(p.jsx)("div",{className:b.a["user-profile"]}),"Yhole's Notion"]}),Object(p.jsx)("ul",{children:e.map((function(e){return Object(p.jsx)(ee,{item:e},e.id)}))}),Object(p.jsx)("div",{className:b.a.actions,children:Object(p.jsxs)("div",{className:b.a.action,onClick:function(){s(G())},children:[Object(p.jsx)("span",{className:"material-icons ".concat(b.a["material-icons"]),children:"add"}),"\uc0c8\ub85c\uc6b4 \ud398\uc774\uc9c0"]})}),Object(p.jsx)("div",{ref:i,className:b.a["resize-handle"],onDoubleClick:function(){return r(240)}})]})}var ce=n(22),re=n.n(ce);function oe(){var e=Object(l.e)(),t=Object(h.d)(),n=Object(h.e)((function(e){return e.path}));return Object(p.jsxs)("header",{children:[Object(p.jsx)("div",{className:re.a.titles,children:n.map((function(n,a){var r=n.id,o=n.title;return Object(p.jsxs)(c.a.Fragment,{children:[a?Object(p.jsx)("div",{className:re.a.division,children:"/"}):"",Object(p.jsx)("button",{className:re.a.title,onClick:function(){return function(n){t(Y(n)),e.push("/ExrKDT-VtoR-notion/workspace/".concat(n))}(r)},children:o||"\uc81c\ubaa9 \uc5c6\uc74c"})]},r)}))}),Object(p.jsxs)("div",{className:re.a.actions,children:[Object(p.jsx)("button",{children:"\uacf5\uc720"}),Object(p.jsx)("button",{children:"\uc5c5\ub370\uc774\ud2b8"}),Object(p.jsx)("button",{children:"\uc990\uaca8\ucc3e\uae30"}),Object(p.jsx)("button",{children:"\uae30\ud0c0"})]})]})}var ie=n(53),se=n(17),le=n.n(se);function pe(){var e=Object(h.e)((function(e){return e.workspace.workspace})),t=e.id,n=e.title,c=e.poster,r=e.content,o=Object(h.d)(),i=Object(a.useRef)(),s=Object(a.useRef)(),l=Object(a.useRef)(),d=function(){var e=i.current.innerHTML,n=s.current.innerHTML;o(Z({id:t,title:e,content:n}))};return Object(p.jsx)("section",{children:Object(p.jsxs)("div",{className:le.a.inner,children:[Object(p.jsxs)("div",{className:le.a.poster,onClick:function(){l.current.dispatchEvent(new MouseEvent("click"))},children:[c&&Object(p.jsx)("img",{src:c,alt:"poster"}),Object(p.jsx)("input",{ref:l,type:"file",onChange:function(e){var n,a=e.target.files,c=Object(ie.a)(a);try{for(c.s();!(n=c.n()).done;){var r=n.value,i=new FileReader;i.readAsDataURL(r),i.addEventListener("load",(function(e){var n=e.target.result;o(Z({id:t,poster:n}))}))}}catch(s){c.e(s)}finally{c.f()}}}),c&&Object(p.jsx)("div",{className:le.a["delete-poster"],onClick:function(e){e.stopPropagation(),o(Z({id:t,poster:"-1"}))},children:Object(p.jsx)("span",{className:"material-icons ".concat(le.a["material-icons"]),children:"close"})})]}),Object(p.jsx)("div",{ref:i,className:le.a.title,placeholder:"\uc81c\ubaa9 \uc5c6\uc74c",contentEditable:!0,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:n},onBlur:d}),Object(p.jsx)("div",{ref:s,className:le.a.content,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694!",contentEditable:!0,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:r},onBlur:d})]})},t)}var de=function(){var e=Object(h.d)(),t=Object(l.e)(),n=Object(h.e)((function(e){return e.workspaceTree})),c=Object(h.e)((function(e){return e.router}));return Object(a.useEffect)((function(){e(U())}),[]),Object(a.useEffect)((function(){"/ExrKDT-VtoR-notion/"===t.location.pathname&&n.workspaceList.length&&(e(Y(n.workspaceList[0].id)),t.push("/ExrKDT-VtoR-notion/workspace/".concat(n.workspaceList[0].id)))}),[n]),Object(a.useEffect)((function(){e(X(c.location.pathname.replace("/ExrKDT-VtoR-notion/workspace/","")))}),[c]),Object(p.jsxs)("div",{className:s.a.app__inner,children:[Object(p.jsx)(ae,{}),Object(p.jsxs)("div",{className:s.a.app__page,children:[Object(p.jsx)(oe,{}),Object(p.jsx)("div",{className:s.a.page__container,children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{path:"/ExrKDT-VtoR-notion/workspace/:id",component:pe}),Object(p.jsx)(l.a,{path:"*",component:d})]})})]})]})};o.a.render(Object(p.jsx)(h.a,{store:J,children:Object(p.jsx)(z.a,{history:F,children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{path:"/ExrKDT-VtoR-notion/",children:Object(p.jsx)(de,{})}),Object(p.jsx)(l.a,{path:"*",children:Object(p.jsx)(d,{})})]})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.485d199b.chunk.js.map